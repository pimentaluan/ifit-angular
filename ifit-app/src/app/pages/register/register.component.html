<div class="max-w-md mx-auto p-6">
  <h1 class="text-2xl font-semibold mb-4">Criar conta</h1>

  <form #f="ngForm" (ngSubmit)="registrar(f)" novalidate>
    <div class="mb-3">
      <label class="block mb-1">Nome</label>
      <input
        type="text"
        class="w-full border p-2 rounded"
        name="nome"
        [(ngModel)]="form.nome"
        required
      />
    </div>

    <div class="mb-3">
      <label class="block mb-1">E-mail</label>
      <input
        type="email"
        class="w-full border p-2 rounded"
        name="email"
        [(ngModel)]="form.email"
        required
      />
    </div>

    <div class="mb-3">
      <label class="block mb-1">Senha</label>
      <input
        type="password"
        class="w-full border p-2 rounded"
        name="senha"
        [(ngModel)]="form.senha"
        required
        minlength="6"
      />
      <small class="text-gray-600">Mínimo de 6 caracteres</small>
    </div>

    <div class="mb-4">
      <label class="block mb-1">Confirmar senha</label>
      <input
        type="password"
        class="w-full border p-2 rounded"
        name="confirmar"
        [(ngModel)]="form.confirmar"
        required
      />
    </div>

    <button
      class="w-full bg-blue-600 text-white py-2 rounded disabled:opacity-60"
      type="submit"
      [disabled]="carregando"
    >
      {{ carregando ? 'Criando...' : 'Criar conta' }}
    </button>

    <p class="mt-4 text-sm">
      Já tem conta?
      <a routerLink="/login" [queryParams]="{ redirect: redirectTo }" class="text-blue-700 underline">
        Entrar
      </a>
    </p>

    <p *ngIf="erro" class="mt-3 text-red-600">{{ erro }}</p>
    <p *ngIf="ok" class="mt-3 text-green-600">{{ ok }}</p>
  </form>
</div>
