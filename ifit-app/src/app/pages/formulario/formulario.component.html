<section class="max-w-3xl mx-auto bg-white p-6 mt-10 rounded shadow">
  <h2 class="text-2xl font-bold text-orange-600 mb-4">Monte seu Treino Personalizado</h2>

  <form #formRef="ngForm" (ngSubmit)="gerarTreino(formRef)" novalidate class="space-y-4">

    <input type="text" name="nome" [(ngModel)]="form.nome" #nome="ngModel" required placeholder="Nome"
      class="w-full border px-3 py-2 rounded" />
    <div *ngIf="nome.invalid && nome.touched" class="text-red-600 text-sm">Nome é obrigatório.</div>

    <input type="number" name="idade" [(ngModel)]="form.idade" #idade="ngModel" required placeholder="Idade"
      class="w-full border px-3 py-2 rounded" />
    <div *ngIf="idade.invalid && idade.touched" class="text-red-600 text-sm">Idade é obrigatória.</div>
    <div *ngIf="form.idade < 16 && idade.touched" class="text-red-600 text-sm">A idade deve ser maior ou igual a 16 anos.</div>
    <div *ngIf="form.idade > 150 && idade.touched" class="text-red-600 text-sm">A idade deve ser menor que 150 anos.</div>

    <select name="objetivo" [(ngModel)]="form.objetivo" #objetivo="ngModel" required class="w-full border px-3 py-2 rounded">
      <option value="" disabled selected>Objetivo</option>
      <option value="Criar massa muscular">Hipertrofia</option>
      <option value="Emagrecer">Emagrecimento</option>
      <option value="Melhorar a saúde">Saúde geral</option>
    </select>
    <div *ngIf="objetivo.invalid && objetivo.touched" class="text-red-600 text-sm">Escolha um objetivo.</div>

    <select name="frequencia" [(ngModel)]="form.frequencia" #frequencia="ngModel" required class="w-full border px-3 py-2 rounded">
      <option value="" disabled selected>Frequência semanal</option>
      <option value="2">2x</option>
      <option value="3">3x</option>
      <option value="5">5x</option>
    </select>
    <div *ngIf="frequencia.invalid && frequencia.touched" class="text-red-600 text-sm">Escolha a frequência semanal.</div>

    <select name="nivel" [(ngModel)]="form.nivel" #nivel="ngModel" required class="w-full border px-3 py-2 rounded">
      <option value="" disabled selected>Nível</option>
      <option value="iniciante">Iniciante</option>
      <option value="intermediario">Intermediário</option>
      <option value="avancado">Avançado</option>
    </select>
    <div *ngIf="nivel.invalid && nivel.touched" class="text-red-600 text-sm">Escolha o nível de treino.</div>

    <select name="local" [(ngModel)]="form.local" #local="ngModel" required class="w-full border px-3 py-2 rounded">
      <option value="" disabled selected>Local de treino</option>
      <option value="Academia">Academia</option>
      <option value="Em casa">Em casa</option>
    </select>
    <div *ngIf="local.invalid && local.touched" class="text-red-600 text-sm">Escolha o local de treino.</div>

    <select name="lesao" [(ngModel)]="form.lesao" #lesao="ngModel" required class="w-full border px-3 py-2 rounded">
      <option value="" disabled selected>Parte lesionada (se houver)</option>
      <option value="Tórax, Ombro ou Tríceps">Tórax, Ombro ou Tríceps</option>
      <option value="Costas, Abdômen ou Bíceps">Costas, Abdômen ou Bíceps</option>
      <option value="Parte Inferior, Pernas ou Glúteo">Pernas ou Glúteo</option>
      <option value="nenhuma">Nenhuma</option>
    </select>
    <div *ngIf="lesao.invalid && lesao.touched" class="text-red-600 text-sm">Informe a parte lesionada ou selecione "Nenhuma".</div>

    <button
      type="submit"
      (click)="formRef.form.markAllAsTouched()"
      [disabled]="formRef.invalid || form.idade < 16 || form.idade > 150"
      class="bg-orange-600 text-white px-6 py-2 rounded">
      Montar Treino
    </button>
  </form>
</section>
